# create-ios-app
A command line interface to create an iOS Boilerplate Xcode project

[![Build Status](https://travis-ci.org/dehlen/create-ios-app.svg?branch=develop)](https://travis-ci.org/dehlen/create-ios-app)

## Installation
1. Install dependencies: ```chmod +x ./scripts/installDependencies.sh```
2. Install node modules: ```yarn```
3. Link binary: ```yarn link create-ios-app```

## Run
1. Generate project: ```create-ios-app init <projectName> --destination <projectDestination>```
2. No step two

For further help call: ```create-ios-app --help```

There is also the possibility to shorten the project generation by providing a template.json file. A sample can be found in this repository `sample_template.json`. It is necessary that this file is called `template.json` since the project will look for a file by that convention in the given template path. Also all keys of this file are mandatory. If you set `fastlane` to false, don't forget to provide values for `match: true/false` and `matchGitUrl: string`. You can then use
``` create-ios-app init <projectName> --destination <projectDestination> --template <templateDirector>``` to skip the setup question.

Both commands can also be prependend with the ```--skipInstall``` option in order to skip the build of the chosen Carthage dependencies.


## Test Drive
Sometimes you want to quickly try out a certain dependency. For this use case the command ```testdrive``` is available. This command expects you to provide a single Carthage compatible dependency. A project is generated with exactly that dependency so you can quickly try out your ideas before embedding a dependency in your main project.  To use this feature simply run
```create-ios-app testdrive <projectName> <carthageFramework> --destination <projectDestination>```.
The Carthage framework should be the exact github name of this dependency like: ```mxcl/PromiseKit```. 


## Created Xcode project
If you enabled fastlane support in the setup a sample configuration is copied to your generated Xcode project.
You can run all available options via ```bundle exec fastlane ios <action>```.
Possible actions are:
* version_bump patch/minor/major: Increment the version of your app
* tests: Run test target 
* lint : Lint via swiftlint if a configuration is specified. This is only added if you enabled swiftlint support.
* beta : Increment build number and build the app

Furthermore a set of scripts is added to the generated project based on your setup. Possible scripts are:
* swiftgen.sh: generates enum for type safe access of your localization and image assets
* swiftlint.sh: lints all your .swift files
* fetch-dependencies.sh: Fetches all entered Carthage dependencies
* build-dependencies.sh: Fetches and builds all Carthage dependencies. Dependencies are cached by default
* fetch-licenses.sh: Fetches license information for all Carthage dependencies and adds them to a library screen in the about page of the app
* swiftformat.sh: Formats your Swift code

The project also is generated by a xcodegen.yml spec. This enables you to add the .xcodeproj to your gitignore since the project can easily be deleted and regenerated. Merge conflicts and wrong file paths in your Xcode project are therefore less likely to happen. Just make sure that every change you want to make to your Xcode project is added to this spec. Furthermore xcconfig files are used to make the generated project even more manageable.

By default the whole project directory is added to a local git repository. If you want you can create an empty remote repository and pass the url in the setup which will automatically push the initial state of the project to your remote.

Please be aware that running the generated project for the first time might take some time. This is because multiple third party dependencies based on you selection in the setup will be installed in the Xcode Run-Script-Phases. Every consecutive run should be pretty fast. 
